{{- if and .Values.application.enabled .Values.application.pdb.enabled }}
{{- $global := .Values.global -}}
{{- $instance := .Values.application.pdb -}}
{{- $instanceName := .Values.application.name -}}
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  {{- include "base.metadata" (dict "context" $ "global" $global "instanceName" $instanceName "instance" $instance ) | nindent 2 }}
spec:
  {{- include "base.podDisruptionBudgetSpec" (dict "context" $ "instance" $instance "instanceName" $instanceName ) | indent 2 }}
{{- end }}