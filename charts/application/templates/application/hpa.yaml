{{- if and .Values.application.enabled .Values.application.autoscaling.enabled }}
{{- $global := .Values.global -}}
{{- $instance := .Values.application.autoscaling -}}
{{- $instanceName := .Values.application.name -}}
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  {{- include "base.metadata" (dict "context" $ "global" $global "instanceName" $instanceName "instance" $instance ) | nindent 2 }}
spec:
  {{- include "base.horizontalPodAutoscalerSpec" (dict "context" $ "instanceName" $instanceName "instance" $instance ) | indent 2 }}
{{- end }}
